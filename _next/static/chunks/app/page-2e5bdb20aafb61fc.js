(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[931],{5042:function(){},5354:function(e,t,n){Promise.resolve().then(n.bind(n,9282)),Promise.resolve().then(n.bind(n,3653))},76:function(e,t,n){"use strict";var a,l,i,r,o,s,u,c;n.d(t,{Dc:function(){return m},av:function(){return a},lT:function(){return r},lV:function(){return i},qb:function(){return l},ri:function(){return d}}),(o=a||(a={})).Novice="novice",o.Advanced="advanced",o.Expert="expert",(s=l||(l={})).NotLoaded="notLoaded",s.NotStarted="notStarted",s.Started="started",s.Lost="lost",s.Won="won",(u=i||(i={})).Hidden="hidden",u.Revealed="revealed",u.Flagged="flagged",(c=r||(r={})).ClusterBomb="clusterBomb",c.Mine="mine",c.Testimonial="testimonial";let d=e=>"number"==typeof e&&e>-1&&e<10,m=e=>0===e},3653:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return e_}});var a=n(7437),l=n(2265),i=n(251),r=n(7288),o=n(3377),s=n(192),u=n(6352),c=n(8229),d=n(5345),m=n(8365),h=n(5143),_=n(7042),b=n(6691),g=n.n(b),p=n(2579),f=n.n(p),C=n(8455),x=n.n(C),A=n(7021),v=n.n(A);let y=e=>{let{options:t={},onInit:n}=e;return(0,a.jsx)(x(),{options:{autoStart:!0,cursor:"",cursorClassName:v().cursor,delay:25,skipAddStyles:!0,...t},onInit:n})},j=e=>{let{children:t,description:n,hasTypewriter:i,image:r,intro:o,quote:s,title:u,imageSize:c="normal",variant:d="primary"}=e,[m,h]=(0,l.useState)(!i),b=r?(0,a.jsx)(g(),{src:r,alt:"",className:(0,_.Z)(f().image,f()[c])}):null,p=()=>h(!0);return(0,a.jsx)("section",{className:(0,_.Z)(f().container,f()[d],i?f().hasTypewriter:null),children:(0,a.jsxs)("div",{className:f().content,children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h2",{className:f().title,children:i?(0,a.jsx)(y,{options:{delay:50},onInit:e=>{e.pauseFor(500).typeString(u).callFunction(p).start()}}):u}),o?(0,a.jsx)("p",{className:(0,_.Z)(f().contentPart,m?f().isContentVisible:null),children:o}):null]}),n?(0,a.jsx)("p",{className:(0,_.Z)(f().contentPart,f().description,m?f().isContentVisible:null),children:n}):null,b,s?(0,a.jsx)("blockquote",{className:(0,_.Z)(f().contentPart,f().quote,m?f().isContentVisible:null),children:s}):null,(0,a.jsx)("div",{className:(0,_.Z)(f().contentPart,f().children,m?f().isContentVisible:null),children:t})]})})};j.Footer=e=>{let{children:t}=e;return(0,a.jsx)("footer",{className:f().footer,children:t})};var S=n(3513),B=n(7681),k=n(4901),T=n(2675),D=n.n(T),N=n(8681),w=n(1209),I=n(4116),F=n.n(I),E=n(1363),L=n(76);let M=(0,l.memo)(e=>{let{attachment:t,difficulty:n,id:l,onClick:i,onContextMenu:r,onTransitionEnd:o,shouldTransition:s,status:u,transitionDelay:c,isDebug:d=!1,isDisabled:m=!1,type:h=0}=e,b=d||u===L.lV.Revealed,g=u===L.lV.Flagged,p=(0,w.TA)(()=>null==r?void 0:r(l),{detect:w.dg.Touch,cancelOnMovement:!0});return(0,a.jsx)("button",{className:(0,_.W)(F().button,F()[n],b?F().isRevealed:null,g?F().isFlagged:null,(0,L.ri)(h)?F().number:null,(0,L.ri)(h)?F()["number".concat(h)]:F()[h],s?F().isBlack:null),onClick:e=>null==i?void 0:i(l,e),onContextMenu:e=>{e.preventDefault(),null==r||r(l)},disabled:m,onTransitionEnd:e=>{"background-color"===e.propertyName&&e.currentTarget.classList.contains(F().isBlack)&&(null==o||o(l,e))},style:{transitionDelay:s&&c?"".concat(c,"ms"):void 0},...p(),children:(0,a.jsxs)("span",{className:F().children,children:[(d||u===L.lV.Revealed)&&h===L.lT.Mine?(0,a.jsx)(E.xn,{className:F().icon}):null,(d||u===L.lV.Revealed)&&h===L.lT.ClusterBomb?(0,a.jsx)(E.Dn,{className:(0,_.W)(F().icon,F().clusterBombIcon)}):null,(d||u===L.lV.Revealed)&&(0,L.ri)(h)&&h>0?h:null,d||u!==L.lV.Flagged?null:(0,a.jsx)(E.U6,{className:F().icon}),h===L.lT.Testimonial&&(null==t?void 0:t.name)?(0,a.jsx)("span",{className:F().tag,children:(0,a.jsx)("span",{className:F().tagText,children:t.name})}):null]})})}),V=(e,t)=>e===L.lV.Revealed||t===L.lT.Testimonial,R=e=>{let{onClickTestimonial:t,onClickClusterBomb:n}=e,{board:i,boardSize:r,difficulty:o,flatBoard:s,isDebug:u,nofUnrevealedOrFlaggedCells:c,onClickCell:d,onContextMenuCell:m,onCellTransitionEnd:h,setStatus:b,status:g}=(0,N.G$)(),[p,f]=(0,l.useState)(!1);(0,l.useEffect)(()=>{c===r.artifacts.mine&&b(L.qb.Won)},[c,r.artifacts.mine,b]);let C=(0,l.useCallback)((e,a)=>{if(g===L.qb.Lost||g===L.qb.Won)return;let l=s.find(t=>t.id===e);(null==l?void 0:l.type)===L.lT.Testimonial&&l.attachment&&t(l.attachment.id,a),(null==l?void 0:l.type)===L.lT.ClusterBomb&&n(a),d(e)},[s,d,n,t,g]);return((0,l.useEffect)(()=>{g===L.qb.Lost&&(f(!1),setTimeout(()=>f(!0),1e3))},[g]),g===L.qb.NotLoaded)?null:(0,a.jsx)(k._.Container,{className:(0,_.W)(D().game,D()[o]),hasPadding:!0,children:i?(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(k._.Container,{className:D().board,children:s.map(e=>(0,a.jsx)(M,{attachment:e.attachment,difficulty:o,id:e.id,onClick:C,onContextMenu:m,onTransitionEnd:h,shouldTransition:p&&e.shouldTransition,status:e.status,transitionDelay:e.transitionDelay,type:u||V(e.status,e.type)?e.type:0},"cell-".concat(e.id)))})}):null})};var q=n(9613),U=n.n(q),W=n(7075);let Q=e=>{let{onFinish:t}=e,{t:n}=(0,i.$G)();return(0,a.jsxs)("div",{className:U().container,children:[(0,a.jsx)("div",{className:U().typewriter,children:(0,a.jsx)(y,{onInit:e=>{e.pauseFor(1e3).typeString(n("Intro.Chunk1")).pauseFor(1e3).typeString("<br>").typeString(n("Intro.Chunk2")).pauseFor(500).typeString("<br>").typeString(n("Intro.Chunk3")).pauseFor(500).typeString("<br>").typeString(n("Intro.Chunk4")).typeString(" ").typeString(n("Intro.Chunk5")).pauseFor(1e3).typeString("<br>").typeString(n("Intro.Chunk6")).pauseFor(1e3).typeString("<br>").typeString(n("Intro.Chunk7")).typeString("<br />").typeString(n("Intro.Chunk8")).pauseFor(3e3).callFunction(t).start()}})}),(0,a.jsx)(W.x,{onClick:e=>{e.preventDefault(),t()}})]})};var G=n(7081),O=n.n(G),H=n(2377),P=n.n(H);let X=(e,t)=>e<0?"lat"===t?"S":"W":"lat"===t?"N":"E",z=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"lat",n=X(e,t),a=Math.abs(e),l=0|a,i=a-l,r=60*i|0,o=Math.round((3600*i-60*r)*100)/100;return"".concat(l,"\xb0").concat(r,"'").concat(o,'"').concat(n)},J=e=>{let{location:t,onClick:n,prefix:l="Area_"}=e,i=z(t.lat,"lat"),r=z(t.lng,"lng"),s="".concat(i," ").concat(r);return(0,a.jsx)("section",{className:P().locationCard,children:(0,a.jsxs)("div",{children:[(0,a.jsxs)("header",{children:[(0,a.jsx)("h3",{className:P().subTitle,children:s}),(0,a.jsxs)("h2",{className:P().title,children:[l,(0,a.jsx)("span",{className:P().name,children:t.name})]})]}),(0,a.jsxs)(o.z,{onClick:()=>null==n?void 0:n(t.name),children:[t.difficulty," â†’"]})]})},t.name)},Y=e=>{let{onClickLocation:t}=e;return(0,a.jsx)("nav",{className:O().list,children:m.K.map(e=>(0,a.jsx)(J,{location:e,onClick:t},e.name))})};var K=n(8864),Z=n.n(K),$=n(3474),ee=n.n($);let et=Z()(()=>Promise.all([n.e(854),n.e(349)]).then(n.bind(n,3349)),{loadableGenerated:{webpack:()=>[3349]},ssr:!1,loading:()=>(0,a.jsx)("span",{className:ee().loading})});var en=n(2940),ea=n(9969),el=n.n(ea),ei=n(1069);let er=e=>{let{onClickIcon:t}=e,{nofMines:n,nofFlagged:i,status:r}=(0,N.G$)(),[o,s]=(0,l.useState)(0),u=(0,l.useRef)(),c=()=>{s(0),clearTimeout(u.current)};return(0,l.useEffect)(()=>{if(r===L.qb.Started){u.current=setTimeout(()=>{s(e=>e+1)},1e3);return}return r===L.qb.Lost||L.qb.Won,clearTimeout(u.current)},[o,r]),(0,l.useEffect)(()=>{r===L.qb.NotStarted&&c()},[r]),(0,a.jsx)("aside",{className:el().statusBar,children:(0,a.jsxs)("ul",{className:el().list,children:[(0,a.jsx)("li",{className:el().listItem,children:o}),(0,a.jsx)("li",{className:el().listItem,children:(0,a.jsx)(ei.h,{isDisabled:r===L.qb.NotStarted,label:"Restart",onClick:()=>{c(),null==t||t()},children:r!==L.qb.Lost?(0,a.jsx)(E.Es,{className:el().icon,"aria-label":r}):(0,a.jsx)(E.Pb,{className:el().icon,"aria-label":r})})}),(0,a.jsx)("li",{className:el().listItem,"aria-label":"flagged mines",children:n-i})]})})};var eo=n(3378),es=n(6235),eu=n.n(es),ec=n(1694);let ed=()=>(0,a.jsxs)(S.V,{children:[(0,a.jsx)(S.V.Trigger,{children:(0,a.jsx)(ei.h,{className:eu().icon,label:"How to play",children:"?"})}),(0,a.jsx)(S.V.Content,{position:B.D.Right,className:eu().content,children:(0,a.jsx)(ec.M,{})})]}),em=e=>{let t=Math.max(document.documentElement.clientWidth||0,window.innerWidth||0);return e.clientX<=t/2?B.D.Right:B.D.Left},eh=()=>{let{t:e}=(0,i.$G)(),{hasIntro:t,setHasIntro:n}=(0,r.qD)(),{location:_,setLocation:b}=(0,en.Sx)(),{restart:g,difficulty:p,setStatus:f,status:C,nofMines:x,hasTransitioned:A}=(0,N.G$)(),[v,y]=(0,l.useState)(null),[T,D]=(0,l.useState)(!1),[w,I]=(0,l.useState)(B.D.Right),[F,E]=(0,l.useState)(!1),[M,V]=(0,l.useState)(!1);(0,l.useEffect)(()=>{A&&(C===L.qb.Lost&&E(!0),C===L.qb.Won&&V(!0))},[C,A]);let q=(0,l.useCallback)(e=>{e.preventDefault(),g(L.av.Novice,L.qb.NotLoaded),b(null)},[g,b]),U=(0,l.useCallback)(e=>{let t=m.K.find(t=>t.name===e);t&&(g(t.difficulty,L.qb.NotLoaded),b(null!=t?t:null))},[g,b]),W=(0,l.useCallback)(()=>g(p),[p,g]),G=(0,l.useCallback)(()=>f(L.qb.NotStarted),[f]),O=(0,l.useCallback)((e,t)=>{let n=h.p.find(t=>t.id===e),a=em(t);n&&(I(a),y(n))},[]),H=(0,l.useCallback)(e=>{let t=em(e);I(t),D(!0)},[]),P=(0,l.useCallback)(()=>y(null),[]),X=(0,l.useCallback)(()=>D(!1),[]),z=(0,l.useCallback)(()=>{W(),E(!1)},[W]),J=(0,l.useCallback)(()=>{W(),V(!1)},[W]),K=(0,l.useCallback)(()=>n(!1),[n]);return(0,a.jsxs)(a.Fragment,{children:[t?null:(0,a.jsx)(eo.h,{onClickMinesweeperLogo:q}),(0,a.jsxs)(k._,{children:[(0,a.jsx)(et,{onFlyEnd:G}),t?null:(0,a.jsx)(R,{onClickClusterBomb:H,onClickTestimonial:O})]}),t?(0,a.jsx)(Q,{onFinish:K}):null,C===L.qb.NotLoaded||t?null:(0,a.jsxs)("section",{children:[(0,a.jsx)(er,{onClickIcon:W}),(0,a.jsx)(ed,{})]}),_||t?null:(0,a.jsx)(Y,{onClickLocation:U}),(0,a.jsx)(S.V,{open:!!v,onOpenChange:P,children:(0,a.jsx)(S.V.Content,{position:w,children:v?(0,a.jsx)(j,{image:null==v?void 0:v.image,imageSize:null==v?void 0:v.imageSize,intro:e("Testimonial.".concat(v.id,".Intro")),quote:e("Testimonial.".concat(v.id,".Quote")),title:null==v?void 0:v.name,variant:"testimonial",children:(0,a.jsxs)(j.Footer,{children:[(0,a.jsx)(c.Q,{href:e("Donate.Url"),target:"_blank",variant:"secondary",children:e("Testimonial.Footer.ButtonDonate")}),(0,a.jsx)(c.Q,{href:"/testimonials",children:e("Testimonial.Footer.ButtonOtherTestimonials")})]})}):null})}),(0,a.jsx)(S.V,{open:T,onOpenChange:X,children:(0,a.jsx)(S.V.Content,{position:w,children:(0,a.jsx)(j,{description:e("ClusterBomb.Description"),title:e("ClusterBomb.Title"),variant:"clusterBomb",children:(0,a.jsxs)(j.Footer,{children:[(0,a.jsx)(c.Q,{href:e("Donate.Url"),target:"_blank",variant:"secondary",children:e("ClusterBomb.Footer.ButtonDonate")}),(0,a.jsx)(o.z,{onClick:X,children:e("ClusterBomb.Footer.ButtonContinue")})]})})})}),(0,a.jsx)(S.V,{open:F,onOpenChange:z,children:(0,a.jsx)(S.V.Content,{position:B.D.Center,children:(0,a.jsx)(j,{description:e("GameOver.Description",{numberOfMines:x,atLocation:e("GameOver.AtLocation.".concat(p))}),title:e("GameOver.Title"),hasTypewriter:!0,children:(0,a.jsxs)(j.Footer,{children:[(0,a.jsx)(c.Q,{href:e("Donate.Url"),target:"_blank",variant:"secondary",children:e("GameOver.Footer.ButtonDonate")}),(0,a.jsx)(s.E,{}),(0,a.jsx)(d.R,{}),(0,a.jsx)(u.R,{})]})})})}),(0,a.jsx)(S.V,{open:M,onOpenChange:J,children:(0,a.jsx)(S.V.Content,{position:B.D.Center,children:(0,a.jsx)(j,{description:e("Won.Description",{numberOfMines:x,atLocation:e("Won.AtLocation.".concat(p))}),title:e("Won.Title"),hasTypewriter:!0,children:(0,a.jsxs)(j.Footer,{children:[(0,a.jsx)(c.Q,{href:e("Donate.Url"),target:"_blank",variant:"secondary",children:e("GameOver.Footer.ButtonDonate")}),(0,a.jsx)(s.E,{}),(0,a.jsx)(d.R,{}),(0,a.jsx)(u.R,{})]})})})})]})};var e_=()=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(r.wI,{children:(0,a.jsx)(en.Ib,{children:(0,a.jsx)(N.Ui,{children:(0,a.jsx)(eh,{})})})})})},4901:function(e,t,n){"use strict";n.d(t,{_:function(){return m}});var a=n(7437),l=n(7042),i=n(2265),r=n(2485),o=n(6759),s=n.n(o),u=n(8681),c=n(76);let d=e=>{let{children:t,className:n,hasPadding:i}=e,{difficulty:r,status:o}=(0,u.G$)();return(0,a.jsx)("div",{className:(0,l.W)(s().container,s()[r],s()[o],i?s().hasPadding:null,n),children:t})},m=e=>{let{children:t}=e,{status:n}=(0,u.G$)(),l=(0,i.useRef)(null);return(0,i.useEffect)(()=>{l.current&&n!==c.qb.Lost&&n!==c.qb.Won&&n!==c.qb.Started&&l.current.scrollTo((l.current.scrollWidth-window.innerWidth)/2,(l.current.scrollHeight-window.innerHeight)/2)},[n]),(0,a.jsx)(r.Z,{activationDistance:10,className:s().scrollContainer,innerRef:l,children:(0,a.jsx)(d,{hasPadding:!0,children:t})})};m.Container=d},8681:function(e,t,n){"use strict";n.d(t,{Ui:function(){return T},G$:function(){return N}});var a,l,i,r=n(7437),o=n(2265),s=n(711),u=n.n(s),c=n(76),d=n(5143);let m={[c.av.Novice]:{artifacts:{[c.lT.Mine]:10,[c.lT.ClusterBomb]:1,[c.lT.Testimonial]:(a=c.av.Novice,d.p.filter(e=>e.difficulty===a).length)},height:9,width:16},[c.av.Advanced]:{artifacts:{[c.lT.Mine]:40,[c.lT.ClusterBomb]:4,[c.lT.Testimonial]:(l=c.av.Advanced,d.p.filter(e=>e.difficulty===l).length)},height:16,width:16},[c.av.Expert]:{artifacts:{[c.lT.Mine]:99,[c.lT.ClusterBomb]:10,[c.lT.Testimonial]:(i=c.av.Expert,d.p.filter(e=>e.difficulty===i).length)},height:16,width:30}},h={[c.av.Novice]:{delay:525,randFactor:100,numberOfSplitCells:2,randFactorDivider:20},[c.av.Advanced]:{delay:525,randFactor:100,numberOfSplitCells:2,randFactorDivider:20},[c.av.Expert]:{delay:525,randFactor:100,numberOfSplitCells:2,randFactorDivider:10}},_=e=>{for(let t=e.length-1;t>0;t--){let n=Math.floor(Math.random()*(t+1));[e[t],e[n]]=[e[n],e[t]]}},b=function(e){let{min:t=0,max:n=Number.MAX_SAFE_INTEGER}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=Math.ceil(t);return Math.floor(e()*(Math.floor(n)-a+1))+a},g=function(e){let{x:t,y:n}=e,a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;return[{x:t-a,y:n-a},{x:t,y:n-a},{x:t+a,y:n-a},{x:t-a,y:n},{x:t+a,y:n},{x:t-a,y:n+a},{x:t,y:n+a},{x:t+a,y:n+a}]},p=function(e,t){let{x:n,y:a}=t,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1;return g({x:n,y:a},l).filter(t=>{var n;let{x:a,y:l}=t;return(null===(n=e[l])||void 0===n?void 0:n[a])!=null})},f=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return Array.from({length:t},()=>Array.from({length:e},()=>({type:0,status:c.lV.Hidden}))).map((t,a)=>t.map((t,l)=>({...t,...n,x:l,y:a,id:a*e+l})))},C=e=>[...e.map(e=>[...e.map(e=>({...e}))])],x=e=>e.flatMap(e=>e),A=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:c.lT.Mine,t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{x:0,y:0},l=C(t),{width:i,height:r,artifacts:o}=n,s=0,d=u()();for(;s<o[e];){let t=b(d,{max:i-1}),n=b(d,{max:r-1});!(t===a.x&&n===a.y)&&l[n][t].type!==c.lT.Mine&&l[n][t].type!==c.lT.ClusterBomb&&l[n][t].type!==c.lT.Testimonial&&(l[n][t].type=e,s++)}return l},v=e=>e.map((t,n)=>t.map((t,a)=>{let l=p(e,{x:a,y:n}),i=l.reduce((t,n)=>{let a=e[n.y][n.x];return t+(a.type===c.lT.Mine?1:0)},0);return(0,c.Dc)(t.type)&&(0,c.ri)(i)?{...t,type:i,status:c.lV.Hidden}:t})),y=(e,t,n)=>{let a=A(c.lT.Mine,e,t,n);return v(a=A(c.lT.ClusterBomb,a,t,n))},j=(e,t,n)=>{let a=A(c.lT.Testimonial,e,t),l=[...d.p.filter(e=>e.difficulty===n)];return a.forEach(e=>e.forEach(e=>{e.type===c.lT.Testimonial&&(e.attachment=l.shift())})),a},S=(e,t)=>{let n=C(e),a=[n[t.y][t.x]],l=[];if(a[0].status=c.lV.Revealed,t.type===c.lT.Mine||t.type===c.lT.ClusterBomb||(0,c.ri)(t.type)&&t.type>0)return n;for(;a.length>0;){let e=a.shift();if(e){e.status=c.lV.Revealed;let t=p(n,{x:e.x,y:e.y}),i=t.map(e=>{let{x:t,y:a}=e;return n[a][t]}).filter(t=>!l.includes(e.id)&&(0,c.Dc)(e.type)&&t.type!==c.lT.ClusterBomb&&t.status!==c.lV.Revealed);l.push(e.id),a.push(...i)}}return n},B={board:[],difficulty:c.av.Novice,isDebug:!1,numberOfCellsTransitionedToBlack:0,setBoard:()=>[],setDifficulty:()=>c.av.Novice,setIsDebug:()=>!1,setNumberOfCellsTransitionedToBlack:()=>0,setStatus:()=>c.qb.NotLoaded,status:c.qb.NotLoaded},k=(0,o.createContext)(B),T=e=>{let{children:t}=e,[n,a]=(0,o.useState)(B.difficulty),[l,i]=(0,o.useState)(B.status),[s,u]=(0,o.useState)(B.board),[c,d]=(0,o.useState)(!1),[m,h]=(0,o.useState)(0);return(0,r.jsx)(k.Provider,{value:{board:s,difficulty:n,isDebug:c,numberOfCellsTransitionedToBlack:m,setBoard:u,setDifficulty:a,setIsDebug:d,setNumberOfCellsTransitionedToBlack:h,setStatus:i,status:l},children:t})},D=function(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:h[c.av.Novice],a=C(e),l=[a[t.y][t.x]],i=[a[t.y][t.x].id],r=[],o=u()(),s=n.delay,d=n.randFactor;for(;l.length>0;){let e=l.shift();if(e){let t=Math.random()+1,u=b(o,{min:1,max:2}),c=p(a,{x:e.x,y:e.y}).map(e=>{let{x:t,y:n}=e;return a[n][t]}).filter(e=>!i.includes(e.id)),m=1===u?c:c.reverse(),h=Math.floor(Math.random()*n.numberOfSplitCells)+1,g=m.slice(0,h),f=m.slice(h,m.length-1);r.push(...f),_(g),a[e.y][e.x].shouldTransition=!0,a[e.y][e.x].transitionDelay=s,i.push(...g.map(e=>e.id)),l.push(...g),s+=t*(d/n.randFactorDivider),d=d>1?d-1:d}r.length>0&&l.push(r.shift())}return a},N=()=>{let{board:e,difficulty:t,numberOfCellsTransitionedToBlack:n,setBoard:a,setDifficulty:l,setNumberOfCellsTransitionedToBlack:i,setStatus:r,status:s,...u}=(0,o.useContext)(k),d=m[t],_=x(e),b=d.artifacts.mine,g=_.reduce((e,t)=>t.status===c.lV.Flagged?e+1:e,0),p=_.filter(e=>e.status===c.lV.Hidden||e.status===c.lV.Flagged).length,C=(0,o.useCallback)(t=>{let{x:n,y:l}=t;r(c.qb.Started),a(y(e,d,{x:n,y:l}))},[e,d,a,r]),A=(0,o.useCallback)(e=>{let n=_.find(t=>t.id===e);if(!n||s===c.qb.Won||s===c.qb.Lost)return;let{x:l,y:i}=n,o=n.type===c.lT.Mine;if(o)return r(c.qb.Lost),a(a=>D(a.map(t=>t.map(t=>({...t,status:c.lV.Revealed,isExploded:t.id===e,transitionDelay:500}))),n,h[t]));s===c.qb.NotStarted&&C({x:l,y:i}),a(e=>S(e,n))},[_,a,r,C,s,t]),v=(0,o.useCallback)(e=>{if(s!==c.qb.Started)return;let t=_.find(t=>t.id===e);t&&a(e=>e.map(e=>e.map(e=>e.id===t.id&&e.status!==c.lV.Revealed?{...e,status:e.status===c.lV.Flagged?c.lV.Hidden:c.lV.Flagged}:{...e})))},[_,a,s]),B=(0,o.useCallback)(()=>i(e=>e+1),[i]),T=n===_.length;return{...u,board:e,boardSize:d,difficulty:t,flatBoard:_,hasTransitioned:T,nofFlagged:g,nofMines:b,nofUnrevealedOrFlaggedCells:p,numberOfCellsTransitionedToBlack:n,onCellTransitionEnd:B,onClickCell:A,onContextMenuCell:v,restart:function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:c.qb.NotStarted,n=m[e],o=f(n.width,n.height),s=j(o,m[e],e);l(e),r(t),a(s),i(0)},setBoard:a,setDifficulty:l,setNumberOfCellsTransitionedToBlack:i,setStatus:r,start:C,status:s}}},2940:function(e,t,n){"use strict";n.d(t,{Ib:function(){return u},Sx:function(){return c}});var a,l,i=n(7437),r=n(2265);(a=l||(l={})).Satellite="satellite",a.SatelliteV2="satellite-v2",a.SatelliteMediumres="satellite-mediumres",a.SatelliteMediumres2018="satellite-mediumres-2018";let o=()=>({isDisabled:!1,location:null,size:512,variant:l.Satellite,setIsDisabled:()=>!1,setLocation:()=>null,setSize:()=>512,setVariant:()=>l.Satellite}),s=(0,r.createContext)(o()),u=e=>{let{children:t}=e,n=o(),[a,u]=(0,r.useState)(n.isDisabled),[c,d]=(0,r.useState)(l.Satellite),[m,h]=(0,r.useState)(512),[_,b]=(0,r.useState)(n.location);return(0,i.jsx)(s.Provider,{value:{isDisabled:a,location:_,setIsDisabled:u,setLocation:b,setSize:h,setVariant:d,size:m,variant:c},children:t})},c=()=>{let e=(0,r.useContext)(s);return e}},8365:function(e,t,n){"use strict";n.d(t,{K:function(){return i},h:function(){return l}});var a=n(76);let l={name:"Diouloulou, Senegal",lat:12.8452174,lng:-16.5543453,height:11500,difficulty:a.av.Novice},i=[{name:"Houay Huon, Laos",lng:105.92368483068742,lat:16.64317216928789,height:2500,difficulty:a.av.Novice},{name:"Ouest de Mossoul, Irak",lng:43.06222222,lat:36.35638889,height:1500,difficulty:a.av.Advanced},{name:"Bakmut, Ukraine",lng:38.00222222,lat:48.59444444,height:2e3,difficulty:a.av.Expert}]},5143:function(e,t,n){"use strict";n.d(t,{p:function(){return l}});var a=n(76);let l=[{id:"Lamngueun",difficulty:a.av.Novice,name:"Lamngueun",image:{src:"/_next/static/media/Lamngueun.4cd4fbc8.webp",height:3024,width:4032,blurDataURL:"data:image/webp;base64,UklGRlgAAABXRUJQVlA4IEwAAADQAQCdASoIAAYAAkA4JYgCdAD0QMqg0AD+6IiY85j8rBv8uIEH8XrTXwwIe93cu2FdntLBCiTMcyN38rMRB5vddEH9s8pNBQJUbQAA",blurWidth:8,blurHeight:6},imageSize:"fullWidth"},{id:"Chuepor",difficulty:a.av.Novice,name:"Chue Por",image:{src:"/_next/static/media/Chuepor.2a3d4596.webp",height:577,width:870,blurDataURL:"data:image/webp;base64,UklGRj4AAABXRUJQVlA4IDIAAACQAQCdASoIAAUAAkA4JaQAApplJwAA/vsk3eMn5/Hpk9zu7+xf4hwum3pxoQaRLwAAAA==",blurWidth:8,blurHeight:5},imageSize:"fullWidth"},{id:"Istabraq",difficulty:a.av.Advanced,name:"Istabraq",image:{src:"/_next/static/media/Istabraq.52720fb6.webp",height:770,width:650,blurDataURL:"data:image/webp;base64,UklGRl4AAABXRUJQVlA4IFIAAADwAQCdASoHAAgAAkA4JaACdAD0uPXCDOAA/rgtuHd9pwOcLcQ5Qs5y6fRcq4vay2SKBAxWlFBkH+lyK6yjjLh0yDe3ErUj/+Un8G990M7MgAAA",blurWidth:7,blurHeight:8},imageSize:"normal"},{id:"Mujbil",difficulty:a.av.Advanced,name:"Mujbil",image:{src:"/_next/static/media/Mujbil.ba9bd3fb.webp",height:642,width:967,blurDataURL:"data:image/webp;base64,UklGRj4AAABXRUJQVlA4IDIAAADwAQCdASoIAAUAAkA4JYwCdAEfbk+DkQAA998EFQ1G7TgAAcHKGO4/ng4aL1QLUSSgAA==",blurWidth:8,blurHeight:5},imageSize:"fullWidth"},{id:"Shaha",difficulty:a.av.Advanced,name:"Shaha",image:{src:"/_next/static/media/Shaha.6a75c1e7.webp",height:723,width:1087,blurDataURL:"data:image/webp;base64,UklGRkgAAABXRUJQVlA4IDwAAACQAQCdASoIAAUAAkA4JZwAAuYbxYAA/vsnrnXLMAVSEY/6vsygJfiv+uNnyURLbO5D/z+F02Htxau/AAA=",blurWidth:8,blurHeight:5},imageSize:"fullWidth"},{id:"Vadim",difficulty:a.av.Expert,name:"Vadim",image:{src:"/_next/static/media/Vadim.bd3aa604.webp",height:835,width:1279,blurDataURL:"data:image/webp;base64,UklGRk4AAABXRUJQVlA4IEIAAADQAQCdASoIAAUAAkA4JZwCsAD0jPI8AAD+C5dICSH5eaESqkj8/PsJDwoylklkeWnGrpADxs8MpkAQUe9sgYYCpAA=",blurWidth:8,blurHeight:5},imageSize:"fullWidth"},{id:"Nazar",difficulty:a.av.Expert,name:"Nazar",image:{src:"/_next/static/media/Nazar.86ca9bd1.webp",height:3679,width:5518,blurDataURL:"data:image/webp;base64,UklGRkwAAABXRUJQVlA4IEAAAADQAQCdASoIAAUAAkA4JQBOgCah0REZ8AD+8Bv6bzLb4fhSBgl02N6HxeYAK/SaKL28oFiEBE1mfHR+Is3+oAAA",blurWidth:8,blurHeight:5},imageSize:"fullWidth"}]},4116:function(e){e.exports={button:"CellButton_button__2dyUp",novice:"CellButton_novice__vxqnG",advanced:"CellButton_advanced__zbXCx",expert:"CellButton_expert__PhRAn",children:"CellButton_children__6E6xS",mine:"CellButton_mine__qyW21",clusterBomb:"CellButton_clusterBomb__66BiR",testimonial:"CellButton_testimonial__WjfDg",isFlagged:"CellButton_isFlagged__qwD76",number:"CellButton_number__MrwmI",isRevealed:"CellButton_isRevealed__CU7_E",animationBoardCellActive:"CellButton_animationBoardCellActive__uWhEP",number0:"CellButton_number0__uOEvB",isBlack:"CellButton_isBlack__JK_1X",number1:"CellButton_number1__PTnSx",number2:"CellButton_number2__zSZ_2",number3:"CellButton_number3__DihIE",number4:"CellButton_number4__gfSTF",number5:"CellButton_number5__GgEQd",number6:"CellButton_number6__P8ljT",number7:"CellButton_number7__ujBXv",number8:"CellButton_number8__Qk4Tx",tag:"CellButton_tag__mIHbM",blink:"CellButton_blink__ltYWS",icon:"CellButton_icon__AMEl8",clusterBombIcon:"CellButton_clusterBombIcon__LGIyb"}},2579:function(e){e.exports={quote:"ContentCard_quote__PLHgF",image:"ContentCard_image__frJKt",fullWidth:"ContentCard_fullWidth__yjdpA",footer:"ContentCard_footer__XbYp3",title:"ContentCard_title__XCTxD",primary:"ContentCard_primary__jBmc7",description:"ContentCard_description__a_hAr",content:"ContentCard_content__FCva3",testimonial:"ContentCard_testimonial___JScb",clusterBomb:"ContentCard_clusterBomb__Yt2r8",hasTypewriter:"ContentCard_hasTypewriter__rnn1R",contentPart:"ContentCard_contentPart__l_FNF",children:"ContentCard_children__QVAxy",isContentVisible:"ContentCard_isContentVisible__ZIwaw"}},6759:function(e){e.exports={scrollContainer:"Draggable_scrollContainer__9P1_Z",container:"Draggable_container__0OYOF",novice:"Draggable_novice__oTq4f",hasPadding:"Draggable_hasPadding__h4sWN",advanced:"Draggable_advanced__7IPM5",expert:"Draggable_expert__6BO_v",notLoaded:"Draggable_notLoaded__anNEG"}},2675:function(e){e.exports={game:"Game_game__A3yNj",board:"Game_board__VaUgw",novice:"Game_novice__FfVIi",animationBoard:"Game_animationBoard__6FJUX",advanced:"Game_advanced__XCmvn",expert:"Game_expert__XJ7uc"}},9613:function(e){e.exports={container:"IntroCard_container__U43ir",typewriter:"IntroCard_typewriter__7uxME"}},2377:function(e){e.exports={locationCard:"LocationCard_locationCard__gtkDy",subTitle:"LocationCard_subTitle__i7iWU",title:"LocationCard_title__fDEFN",name:"LocationCard_name__3cGHg"}},7081:function(e){e.exports={list:"LocationList_list___aqXs"}},3474:function(e){e.exports={mapContainer:"Map_mapContainer__XKAXz",hasIntro:"Map_hasIntro__S8nfk",isDisabled:"Map_isDisabled__TDjdg",map:"Map_map__XW2eB",loading:"Map_loading__SK1oq",rotation:"Map_rotation___EVyO"}},9969:function(e){e.exports={statusBar:"StatusBar_statusBar__sEKE0",list:"StatusBar_list__zSvGs",listItem:"StatusBar_listItem__r6X48",icon:"StatusBar_icon__BnhOI"}},7021:function(e){e.exports={cursor:"Typewriter_cursor__OM0Vt",blink:"Typewriter_blink__Ex4yz"}},6235:function(e){e.exports={icon:"HowToDialog_icon___Vucu"}}},function(e){e.O(0,[384,579,274,971,596,744],function(){return e(e.s=5354)}),_N_E=e.O()}]);